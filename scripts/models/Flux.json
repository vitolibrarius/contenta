{
    "attributes": {
        "id": 	{ "column": "id",	"type": "INTEGER" },
        "created": { "column": "created", "type": "DATE" },
		"name": { "column": "name",	"length": 256, "type": "TEXT",	"collate": "NOCASE", "nullable": false  },
        "flux_hash": { "column": "flux_hash", "length": 256, "type": "TEXT", "nullable": true },
        "flux_error": { "column": "flux_error", "type": "BOOLEAN" },
        "src_endpoint": { "column": "src_endpoint", "type": "INTEGER" },
        "src_guid": { "column": "src_guid", "length": 256, "type": "TEXT", "nullable": true },
        "src_url": { "column": "src_url", "length": 1024, "type": "TEXT", "nullable": true },
        "src_status": { "column": "src_status", "length": 256, "type": "TEXT", "nullable": true },
        "src_pub_date": { "column": "src_pub_date", "type": "DATE" },
        "dest_endpoint": { "column": "dest_endpoint", "type": "INTEGER" },
        "dest_guid": { "column": "dest_guid", "length": 256, "type": "TEXT", "nullable": true },
        "dest_status": { "column": "dest_status", "length": 256, "type": "TEXT", "nullable": true },
        "dest_submission": { "column": "dest_submission", "type": "DATE" }
    },
    "primaryKeys": [ "id" ],
    "table": "flux",
    "package": "network",
    "model": "Flux",
    "dbo": "FluxDBO",
	"sort" : [
		{ "desc": "created" }
	],
    "relationships" :{
    	"source_endpoint" : {
    		"destination" : "Endpoint",
    		"destinationTable" : "endpoint",
    		"destinationPackage" : "\\model\\network\\",
    		"joins" : [
    			{ "destinationAttribute": "id", "sourceAttribute" : "src_endpoint" }
    		],
    		"isMandatory": true,
            "isToMany" : false,
            "ownsDestination" : false
    	},
    	"destination_endpoint" : {
    		"destination" : "Endpoint",
    		"destinationTable" : "endpoint",
    		"destinationPackage" : "\\model\\network\\",
    		"joins" : [
    			{ "destinationAttribute": "id", "sourceAttribute" : "dest_endpoint" }
    		],
    		"isMandatory": false,
            "isToMany" : false,
            "ownsDestination" : false
    	}
    },
    "indexes" : [
    	{ "columns": ["src_endpoint", "src_guid"], "unique": true },
    	{ "columns": ["dest_endpoint", "dest_guid"], "unique": true },
    	{ "columns": ["flux_hash"] }
	],
	"fetches" : {
		"objectForSourceEndpointGUID": {
			"arguments": [ "src_endpoint", "src_guid" ],
			"maxCount" : 1,
			"semantic": "AND",
			"qualifiers": [
				{
					"type" : "Related",
					"relationship": "source_endpoint",
					"argAttribute": "src_endpoint"
				},
				{
					"type" : "Equals",
					"keyAttribute": "src_guid",
					"argAttribute": "src_guid"
				}
			]
		},
		"objectForDestinationEndpointGUID": {
			"arguments": [ "dest_endpoint", "dest_guid" ],
			"maxCount" : 1,
			"semantic": "AND",
			"qualifiers": [
				{
					"type" : "Related",
					"relationship": "destination_endpoint",
					"argAttribute": "dest_endpoint"
				},
				{
					"type" : "Equals",
					"keyAttribute": "dest_guid",
					"argAttribute": "dest_guid"
				}
			]
		}
    }
}
